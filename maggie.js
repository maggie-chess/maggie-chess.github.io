var board = null
var game = new Chess()
var whiteSquareGrey = '#cbcbcb'
var blackSquareGrey = '#9932cc'

var stockfish = STOCKFISH()
var stockfishOutput = []
stockfish.onmessage = function(event) {
    stockfishOutput.push(event.data ? event.data : event)
    console.log(event.data ? event.data : event)
}

const openings = {"Sicilian Defence": {"Najdorf, English Attack": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 e5 7. Nb3 Be6 8. f3 Be7 9. Qd2 O-O 10. O-O-O Nbd7 11. g4 b5 12. g5 b4 13. Ne2 Ne8 14. f4 a5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 e5 7. Nb3 Be6 8. f3 Nbd7 9. g4 Nb6 10. g5 Nh5 11. Qd2 Be7 12. O-O-O O-O 13. Rg1 Rc8 14. Kb1 g6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 e5 7. Nb3 Be6 8. f3 Be7 9. Qd2 O-O 10. O-O-O Qc7 11. g4 Rc8 12. g5 Nh5 13. Kb1 Nd7 14. Qf2 b5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 e5 7. Nb3 Be6 8. f3 Be7 9. Qd2 O-O 10. O-O-O b5 11. Nd5 Bxd5 12. exd5 Qc7 13. g4 Rc8 14. Kb1 b4"], "Najdorf, Poisoned Pawn Variation": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6 8. Qd2 Qxb2 9. Rb1 Qa3 10. f5 Nc6 11. fxe6 fxe6 12. Nxc6 bxc6 13. e5 dxe5 14. Bxf6 gxf6 15. Ne4 Be7 16. Be2 h5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6 8. Qd2 Qxb2 9. Rb1 Qa3 10. Bxf6 gxf6 11. Be2 Nc6 12. Nxc6 bxc6 13. O-O Qa5 14. Kh1 Be7 15. f5 h5 16. Bf3 Kf8", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6 8. Qd2 Qxb2 9. Rb1 Qa3 10. e5 dxe5 11. fxe5 Nfd7 12. Ne4 h6 13. Bh4 Qxa2 14. Rd1 Qd5 15. Qe3 Qxe5 16. Be2 Bc5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6 8. Qd2 Qxb2 9. Nb3 Qa3 10. Bxf6 gxf6 11. Be2 Nc6 12. O-O Bd7 13. Kh1 Rc8 14. Bh5 Bg7 15. Rf3 O-O 16. Rd1 f5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6 8. Nb3 Be7 9. Qf3 Nbd7 10. O-O-O Qc7 11. Bd3 b5 12. a3 Bb7 13. Rhe1 Nc5 14. Qh3 O-O-O 15. Nxc5 dxc5 16. e5 Nd5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6 8. Nb3 Nbd7 9. Be2 Be7 10. Qd3 Qc7 11. Bf3 h6 12. Bxf6 Nxf6 13. O-O-O e5 14. f5 Bd7 15. Kb1 b5 16. Nd2 Rc8"], "Najdorf Variation, 6 Be3 and 6 g3": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 e5 7. Nf3 Be7 8. Bc4 O-O 9. O-O Be6 10. Qe2 b5 11. Bb3 h6 12. Rfd1 Nbd7 13. a3 Qe8", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. g3 e5 7. Nde2 b5 8. Bg5 Nbd7 9. Nd5 Be7 10. Bxf6 Nxf6 11. Nec3 Be6 12. a4 b4 13. Nxb4 Qa5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. g3 e5 7. Nb3 Be7 8. Bg2 O-O 9. O-O Be6 10. a4 Nbd7 11. a5 Qc7 12. Re1 Rfc8 13. h3 h6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 e5 7. Nf3 Qc7 8. a4 Be7 9. a5 O-O 10. Be2 Nbd7 11. O-O b5 12. axb6 Nxb6 13. Qd3 Bb7", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 Ng4 7. Bg5 h6 8. Bh4 g5 9. Bg3 Bg7 10. Be2 h5 11. Bxg4 Bxg4 12. f3 Bd7 13. O-O Nc6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be3 Ng4 7. Bg5 h6 8. Bh4 g5 9. Bg3 Bg7 10. h3 Ne5 11. Nf5 Bxf5 12. exf5 Nbc6 13. Nd5 e6"], "Accelerated Dragon, Mar\u00f3czy Bind": ["1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. c4 Nf6 6. Nc3 d6 7. f3 Nxd4 8. Qxd4 Bg7 9. Be3 O-O 10. Qd2 Qa5 11. Rc1 Be6 12. Nd5 Qxa2", "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. c4 Bg7 6. Be3 Nf6 7. Nc3 Ng4 8. Qxg4 Nxd4 9. Qd1 Ne6 10. Rc1 d6 11. b4 O-O 12. Be2 a5"], "Najdorf Variation, 6 Bg5\u2014Old Main Line": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7 10. g4 b5 11. Bxf6 Nxf6 12. g5 Nd7 13. f5 Nc5 14. f6 gxf6 15. gxf6 Bf8 16. Rg1 h5 17. Rg7 b4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7 10. g4 b5 11. Bxf6 Nxf6 12. g5 Nd7 13. f5 Bxg5+ 14. Kb1 Ne5 15. Qh5 Qe7 16. Nxe6 Bxe6 17. fxe6 g6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7 10. g4 b5 11. Bxf6 Nxf6 12. g5 Nd7 13. a3 Rb8 14. h4 b4 15. axb4 Rxb4 16. Bh3 Qc5 17. Nb3 Qb6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7 10. Bd3 b5 11. Rhe1 Bb7 12. Qg3 b4 13. Nd5 exd5 14. e5 dxe5 15. fxe5 Nh5 16. Qh4 Bxg5+ 17. Qxg5 g6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7 10. Bd3 h6 11. Bh4 g5 12. fxg5 Ne5 13. Qe2 Nfg4 14. Nf3 hxg5 15. Bg3 Nxf3 16. gxf3 Ne5 17. Qf2 b5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7 10. Qg3 b5 11. Bxf6 Bxf6 12. Bxb5 O-O 13. Bxd7 Bxd7 14. e5 dxe5 15. Ne4 exd4 16. Nxf6+ Kh8 17. Nh5 Rg8"], "Najdorf Variation, 6 Bg5": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 h6 9. Bh4 Qc7 10. O-O-O Nbd7 11. Be2 g5 12. fxg5 Ne5 13. Qe3 Nfg4 14. Bxg4 Nxg4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Nbd7 8. Qf3 Qc7 9. O-O-O b5 10. Bxb5 axb5 11. Ndxb5 Qb6 12. e5 Bb7 13. Qe2 h6 14. Bxf6 gxf6"], "Najdorf Variation, Polugaevsky Variation": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 b5 8. e5 dxe5 9. fxe5 Qc7 10. exf6 Qe5+ 11. Be2 Qxg5 12. O-O Qe5 13. Nf3 Bc5+ 14. Kh1 Qxf6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 b5 8. e5 dxe5 9. fxe5 Qc7 10. Qe2 Nfd7 11. O-O-O Bb7 12. Qg4 Qxe5 13. Bd3 h6 14. Bh4 g5"], "Najdorf Variation, 6 Bg6": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 Nbd7 7. Bc4 Qa5 8. Qd2 e6 9. O-O-O b5 10. Bb3 Bb7 11. Rhe1 O-O-O 12. a3 Be7 13. Kb1 Qb6 14. f3 Kb8"], "Dragon Variation, Yugoslav Attack\u2014Soltis Line": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 O-O 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 h5 13. Bg5 Rc5 14. Kb1 b5 15. g4 a5 16. gxh5 a4 17. h6 Bh8 18. h7+ Nxh7 19. Bd5 Bg7", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 O-O 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 h5 13. Bg5 Rc5 14. Kb1 Re8 15. Rhe1 Qa5 16. a3 Qa6 17. f4 Nc4 18. Bxc4 Rxc4 19. e5 Nh7", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 O-O 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 h5 13. Bg5 Rc5 14. f4 Nc4 15. Qd3 Ng4 16. Bxc4 Nf2 17. Qe2 Nxh1 18. Bb3 Qb6 19. f5 Bxd4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 O-O 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 h5 13. Bh6 Bxh6 14. Qxh6 Rxc3 15. bxc3 Qc7 16. Kb1 Rc8 17. g4 Qxc3 18. gxh5 Nc4 19. Bxc4 Rxc4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 O-O 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 h5 13. Kb1 Nc4 14. Bxc4 Rxc4 15. Nde2 b5 16. Bh6 Qa5 17. Bxg7 Kxg7 18. Nf4 Rfc8 19. Ncd5 Qxd2", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 O-O 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 h5 13. g4 hxg4 14. h5 Nxh5 15. Bh6 e6 16. Rdg1 Qf6 17. Bxg7 Qxg7 18. fxg4 Nf6 19. Rh4 g5"], "Dragon Variation, Yugoslav Attack": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 Nc4 13. Bxc4 Rxc4 14. h5 Nxh5 15. g4 Nf6 16. Nde2 Re8 17. Bh6 Bh8", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O Rc8 11. Bb3 Ne5 12. h4 Nc4 13. Bxc4 Rxc4 14. h5 Nxh5 15. g4 Nf6 16. Bh6 Nxe4 17. Qe3 Rxc3", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O Qa5 11. Bb3 Rfc8 12. Kb1 Ne5 13. h4 Nc4 14. Bxc4 Rxc4 15. Nb3 Qc7 16. Bd4 Be6 17. h5 a5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O Qa5 11. Bb3 Rfc8 12. Kb1 Ne5 13. h4 b5 14. Ncxb5 Qxd2 15. Bxd2 Nc4 16. Bxc4 Rxc4 17. b3 Rc5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O Qc7 11. Bb3 Na5 12. h4 Nc4 13. Bxc4 Qxc4 14. Bh6 b5 15. Bxg7 Kxg7 16. Kb1 e6 17. h5 b4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Nxd4 10. Bxd4 Be6 11. Bb3 Qa5 12. O-O-O b5 13. Kb1 b4 14. Nd5 Bxd5 15. exd5 Qb5 16. Qd3 Qb7 17. Rhe1 a5 18. Ba4"], "Dragon Variation, Yugoslav Attack 9 0-0-0, 9 g4, Misc.": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. O-O-O d5 10. exd5 Nxd5 11. Nxc6 bxc6 12. Bd4 e5 13. Bc5 Be6 14. Ne4 Rb8 15. Bc4 Re8", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. O-O-O d5 10. Qe1 e6 11. h4 Qc7 12. h5 Nxh5 13. exd5 exd5 14. Ndb5 Qg3 15. Bf2 Qf4+", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. O-O-O Nxd4 10. Bxd4 Be6 11. Kb1 Qc7 12. Nd5 Bxd5 13. exd5 Rfc8 14. Rc1 a5 15. Bb5 a4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. g4 Be6 10. O-O-O Nxd4 11. Bxd4 Qa5 12. a3 Rfc8 13. h4 Rab8 14. h5 b5 15. hxg6 fxg6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. g4 Be6 10. O-O-O Ne5 11. h4 Bc4 12. Bh3 Ba6 13. b3 Qa5 14. Kb1 Rfc8 15. Nd5 Qxd2", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 Nc6 8. Qd2 Bd7 9. O-O-O Rc8 10. g4 Ne5 11. h4 h5 12. g5 Nh7 13. Kb1 O-O 14. f4 Ng4 15. Bg1 a6"], "Classical Dragon": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O Nc6 8. Be3 O-O 9. Nb3 Be6 10. f4 Qc8 11. Kh1 Bg4 12. Bg1 Rb8 13. Nd4 Bxe2 14. Qxe2 b5 15. e5 dxe5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O Nc6 8. Be3 O-O 9. Nb3 Be6 10. f4 Na5 11. f5 Bc4 12. Bd3 Bxd3 13. cxd3 d5 14. Nxa5 Qxa5 15. e5 d4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O Nc6 8. Be3 O-O 9. Nb3 a5 10. a4 Be6 11. f4 Rc8 12. Bf3 Nd7 13. Rf2 Nb6 14. Be2 Nc4 15. Bxc4 Bxc4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O Nc6 8. Be3 O-O 9. Nb3 a6 10. a4 Be6 11. f4 Rc8 12. f5 Bxb3 13. cxb3 Na5 14. Bd3 Nd7 15. Rc1 Nc5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O Nc6 8. Be3 O-O 9. Qd2 d5 10. exd5 Nxd5 11. Nxc6 bxc6 12. Rad1 Qc7 13. Nxd5 cxd5 14. Qxd5 Be6 15. Qc5 Qxc5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O Nc6 8. Be3 O-O 9. f4 Qb6 10. Qd3 Ng4 11. Bxg4 Bxd4 12. Bxd4 Qxd4+ 13. Qxd4 Nxd4 14. Bd1 Be6 15. Rf2 Rac8"], "Dragon Variation, Minor Classical, Levenfish, Misc.": ["1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. O-O O-O 8. Nb3 Nc6 9. Bg5 Be6 10. f4 b5 11. Bf3 b4 12. Nd5 a5 13. a4 bxa3", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be2 Bg7 7. Be3 Nc6 8. Qd2 Ng4 9. Bxg4 Bxg4 10. f3 Bd7 11. Nxc6 bxc6 12. Bh6 Bxh6 13. Qxh6 Qa5", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. f4 Nc6 7. Nxc6 bxc6 8. e5 Nd7 9. exd6 exd6 10. Be3 Be7 11. Qf3 d5 12. O-O-O O-O 13. g4 Bf6", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. f4 Bg7 7. e5 dxe5 8. fxe5 Nfd7 9. e6 Ne5 10. Bb5+ Nbc6 11. exf7+ Kf8 12. Nxc6 Qxd1+ 13. Nxd1", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. f4 Nbd7 7. Be2 Bg7 8. O-O O-O 9. Bf3 a6 10. Nb3 Nb6 11. a4 Be6 12. a5 Nc4 13. g4", "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. g3 Nc6 7. Nde2 Bg7 8. Bg2 O-O 9. O-O Rb8 10. a4 a6 11. Nd5 b5 12. axb5 axb5 13. Bg5 Nd7"], "Accelerated Dragon": ["1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. Nc3 Bg7 6. Be3 Nf6 7. Nxc6 bxc6 8. e5 Ng8 9. f4 Nh6 10. Qd2 O-O 11. O-O-O d6 12. h3 Nf5 13. Bf2 c5 14. Bc4 Bb7", "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. Nc3 Bg7 6. Be3 Nf6 7. Nxc6 bxc6 8. e5 Nd5 9. Nxd5 cxd5 10. Qxd5 Rb8 11. Bxa7 Rxb2 12. Bd4 Rxc2 13. Bd3 e6 14. Qa8 Rc6", "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. Nc3 Bg7 6. Be3 Nf6 7. Bc4 Qa5 8. O-O O-O 9. Bb3 d6 10. h3 Bd7 11. f4 Qh5 12. Nf3 b5 13. a3 a5 14. Qd3 b4", "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. Nc3 Bg7 6. Be3 Nf6 7. Bc4 Qa5 8. O-O O-O 9. Nb3 Qc7 10. f4 d6 11. Be2 b6 12. g4 Bb7 13. g5 Nd7 14. Nd5 Qd8", "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. Nc3 Bg7 6. Be3 Nf6 7. Bc4 O-O 8. Bb3 a5 9. f3 d5 10. exd5 Nb4 11. Nde2 a4 12. Nxa4 Nfxd5 13. Bf2 Bf5 14. O-O b5"]}, "Caro-Kann Defence": {"Main Line 4... Bf5": ["1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7 8. h5 Bh7 9. Bd3 Bxd3 10. Qxd3 Qc7 11. Bd2 e6 12. O-O-O Ngf6 13. Ne4 O-O-O 14. g3 Nxe4 15. Qxe4 Nf6 16. Qe2 Bd6 17. c4 c5", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7 8. h5 Bh7 9. Bd3 Bxd3 10. Qxd3 Qc7 11. Bd2 e6 12. O-O-O Ngf6 13. Kb1 O-O-O 14. c4 c5 15. Bc3 cxd4 16. Nxd4 a6 17. Nf3 Be7", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7 8. h5 Bh7 9. Bd3 Bxd3 10. Qxd3 Qc7 11. Bd2 e6 12. Qe2 Ngf6 13. O-O-O O-O-O 14. Ne5 Nb6 15. Ba5 Rd5 16. Bxb6 axb6 17. c4 Ra5", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7 8. h5 Bh7 9. Bd3 Bxd3 10. Qxd3 e6 11. Bf4 Ngf6 12. O-O-O Qa5 13. Kb1 Be7 14. Ne5 O-O 15. Nxd7 Nxd7 16. Ne4 Nf6 17. g4 Rad8", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7 8. h5 Bh7 9. Bd3 Bxd3 10. Qxd3 e6 11. Bd2 Ngf6 12. O-O-O Be7 13. Qe2 O-O 14. Ne5 c5 15. dxc5 Nxc5 16. Kb1 Qc7 17. Bc3 Rfd8"], "4... Bf5 Variation": ["1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7 8. Bd3 Bxd3 9. Qxd3 Qc7 10. Bd2 Ngf6 11. O-O-O e6 12. Kb1 O-O-O", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nf6 8. Ne5 Bh7 9. Bd3 Bxd3 10. Qxd3 e6 11. Bd2 Nbd7 12. f4 Be7", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. f4 e6 8. Nf3 Nd7 9. h5 Bh7 10. Bd3 Bxd3 11. Qxd3 Qc7 12. Bd2 Ngf6", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. Bc4 e6 7. N1e2 Nf6 8. O-O Bd6 9. f4 Qe7 10. Bd3 Bxd3 11. Qxd3 g6 12. f5 gxf5", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. Nf3 Nd7 7. Bd3 e6 8. O-O Ngf6 9. c4 Bd6 10. b3 O-O 11. Bb2 c5 12. Bxg6 hxg6", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. N1e2 Nf6 7. Nf4 e5 8. Nxg6 hxg6 9. dxe5 Qa5+ 10. Bd2 Qxe5+ 11. Qe2 Qxe2+ 12. Bxe2 Nbd7"], "Main Line 4... Nd7": ["1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bd3 Ngf6 6. Ng5 e6 7. N1f3 Bd6 8. Qe2 h6 9. Ne4 Nxe4 10. Qxe4 Nf6 11. Qe2 Qc7 12. Bd2 b6 13. O-O-O Bb7", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bd3 Ngf6 6. Ng5 e6 7. N1f3 Bd6 8. Qe2 h6 9. Ne4 Nxe4 10. Qxe4 Qc7 11. O-O b6 12. Qg4 Kf8 13. b3 Bb7", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bd3 Ngf6 6. Ng5 e6 7. N1f3 h6 8. Nxe6 fxe6 9. Bg6+ Ke7 10. Bf4 Qa5+ 11. c3 Kd8 12. O-O Be7 13. Re1 Nf8", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Ng5 Ndf6 6. N1f3 Bg4 7. h3 Bxf3 8. Nxf3 e6 9. g3 Bd6 10. Bg2 Ne7 11. O-O O-O 12. Qe2 Qc7 13. c4 b6", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Ng3 e6 7. Bd3 c5 8. O-O cxd4 9. Nxd4 Bc5 10. c3 O-O 11. Bd2 Re8 12. Bg5 a6 13. Qf3 Bxd4", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Ng3 c5 7. dxc5 e6 8. b4 b6 9. Be2 bxc5 10. b5 Bb7 11. O-O Qc7 12. c4 Bd6 13. Qd2 Ne5", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Nxf6+ Nxf6 7. Ne5 Be6 8. Be2 g6 9. O-O Bg7 10. c4 O-O 11. Be3 Ne4 12. f4 Nd6 13. b3 Qc7", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Nxf6+ Nxf6 7. Ne5 Nd7 8. Bf4 Nxe5 9. Bxe5 Qd5 10. c4 Qa5+ 11. Qd2 Qxd2+ 12. Kxd2 Bf5 13. Bd3 Bxd3", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bc4 Ngf6 6. Ng5 e6 7. Qe2 Nb6 8. Bb3 h6 9. N5f3 a5 10. c3 c5 11. a3 Qc7 12. Nh3 Bd7 13. O-O cxd4", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bc4 Ngf6 6. Ng5 e6 7. Qe2 Nb6 8. Bb3 h6 9. N5f3 c5 10. Bf4 Nbd5 11. Be5 Qa5+ 12. Nd2 b5 13. dxc5 Bxc5", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bc4 Ngf6 6. Ng5 e6 7. Qe2 Nb6 8. Bd3 h6 9. N5f3 c5 10. dxc5 Bxc5 11. Ne5 Nbd7 12. Ngf3 Qc7 13. O-O O-O", "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Bc4 Ngf6 6. Nxf6+ Nxf6 7. c3 Qc7 8. Qb3 e6 9. Nf3 Bd6 10. Bg5 Nd5 11. O-O b6 12. Rfe1 O-O 13. Qc2 h6"], "Advance Variation": ["1. e4 c6 2. d4 d5 3. e5 Bf5 4. Nf3 e6 5. Be2 Ne7 6. O-O Nd7 7. Nh4 Bg6 8. Nd2 c5 9. c3 Nc6 10. Nxg6 hxg6 11. Nf3 cxd4 12. cxd4 Be7", "1. e4 c6 2. d4 d5 3. e5 Bf5 4. Nf3 e6 5. Be2 c5 6. O-O Nc6 7. c3 Bg4 8. Nbd2 cxd4 9. cxd4 Nge7 10. a3 Nf5 11. b4 Be7 12. h3 Bxf3", "1. e4 c6 2. d4 d5 3. e5 Bf5 4. Nc3 e6 5. g4 Bg6 6. Nge2 c5 7. h4 h6 8. Be3 Qb6 9. f4 Nc6 10. f5 Bh7 11. Qd2 O-O-O 12. O-O-O c4", "1. e4 c6 2. d4 d5 3. e5 Bf5 4. Nc3 Qb6 5. g4 Bd7 6. Na4 Qc7 7. Nc5 e6 8. Nxd7 Nxd7 9. f4 c5 10. c3 Ne7 11. Nf3 h5 12. gxh5 Nf5", "1. e4 c6 2. d4 d5 3. e5 Bf5 4. h4 h5 5. c4 e6 6. Nc3 dxc4 7. Bxc4 Nd7 8. Bg5 Be7 9. Qd2 Qa5 10. Nge2 O-O-O 11. Qe3 Bxg5 12. hxg5 Nb6", "1. e4 c6 2. d4 d5 3. e5 c5 4. dxc5 Nc6 5. Bb5 e6 6. Be3 Ne7 7. c3 Nf5 8. Bd4 Bd7 9. Bxc6 Bxc6 10. Nf3 Nxd4 11. Qxd4 a5 12. b4 axb4"], "Two Knights' Variation": ["1. e4 c6 2. Nc3 d5 3. Nf3 Bg4 4. h3 Bxf3 5. Qxf3 Nf6 6. d3 e6 7. Bd2 Nbd7 8. g4 Bb4 9. g5 Ng8 10. h4 d4 11. Nb1 Qb6", "1. e4 c6 2. Nc3 d5 3. Nf3 Bg4 4. h3 Bxf3 5. Qxf3 Nf6 6. d3 e6 7. g3 Bb4 8. Bd2 d4 9. Nb1 Qb6 10. b3 a5 11. a3 Bxd2+", "1. e4 c6 2. Nc3 d5 3. Nf3 Bg4 4. h3 Bxf3 5. Qxf3 e6 6. d4 dxe4 7. Nxe4 Nf6 8. Bd3 Qxd4 9. c3 Qd8 10. O-O Nbd7 11. Bf4 Nxe4", "1. e4 c6 2. Nc3 d5 3. Nf3 Bg4 4. h3 Bh5 5. exd5 cxd5 6. Bb5+ Nc6 7. g4 Bg6 8. Ne5 Rc8 9. d4 e6 10. Qe2 Bb4 11. h4 Ne7", "1. e4 c6 2. Nc3 d5 3. Nf3 Nf6 4. e5 Ne4 5. Ne2 Bg4 6. Nfg1 Bxe2 7. Bxe2 e6 8. d3 Nc5 9. Nf3 Ncd7 10. O-O c5 11. c3 Nc6", "1. e4 c6 2. Nc3 d5 3. Nf3 dxe4 4. Nxe4 Nd7 5. Bc4 Ngf6 6. Neg5 e6 7. Qe2 Nd5 8. d4 h6 9. Ne4 Be7 10. O-O O-O 11. a4 a5"], "Exchange Variation": ["1. e4 c6 2. d4 d5 3. exd5 cxd5 4. Bd3 Nc6 5. c3 Nf6 6. Bf4 Bg4 7. Qb3 Qd7 8. Nd2 e6 9. Ngf3 Bxf3 10. Nxf3 Bd6", "1. e4 c6 2. d4 d5 3. exd5 cxd5 4. Bd3 Nc6 5. c3 Qc7 6. Ne2 Bg4 7. f3 Bd7 8. Na3 a6 9. Nc2 e6 10. Bf4 Bd6"]}, "Ruy Lopez": {"Classical (Cordel) Defence": ["1. e4 e5 2. Nf3 Nc6 3. Bb5 Bc5 4. c3 f5 5. d4 fxe4 6. Bxc6 dxc6 7. Nfd2 Bd6 8. dxe5 e3 9. fxe3 Bc5 10. O-O Bxe3+", "1. e4 e5 2. Nf3 Nc6 3. Bb5 Bc5 4. c3 Nge7 5. O-O Bb6 6. d4 exd4 7. cxd4 d5 8. exd5 Nxd5 9. Re1+ Be6 10. Bg5 Qd6"], "Berlin Defence": ["1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O Bc5 5. Nxe5 Nxe4 6. Qe2 Nxe5 7. Qxe4 Qe7 8. Nc3 Ng6 9. Qxe7+ Bxe7 10. Nd5 Bd6 11. Re1+ Kd8", "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O Nxe4 5. d4 Nd6 6. Bxc6 dxc6 7. dxe5 Nf5 8. Qxd8+ Kxd8 9. Nc3 h6 10. h3 Bd7 11. b3 Ke8", "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O Nxe4 5. d4 Nd6 6. Bxc6 dxc6 7. dxe5 Nf5 8. Qxd8+ Kxd8 9. Rd1+ Ke8 10. Nc3 h6 11. h3 a5", "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O Nxe4 5. d4 Nd6 6. Bxc6 dxc6 7. dxe5 Ne4 8. Qe2 Bf5 9. Rd1 Qc8 10. Nd4 Bc5 11. b4 Bb6", "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. d4 exd4 5. e5 Ne4 6. O-O a6 7. Bxc6 dxc6 8. Qe2 Bf5 9. Rd1 Bc5 10. Be3 Qe7 11. Nxd4 Bxd4", "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. Qe2 Bc5 5. c3 Qe7 6. d3 d6 7. Bg5 h6 8. Bh4 Bd7 9. Nbd2 a6 10. Ba4 g5"], "Exchange Variation": ["1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. O-O f6 6. d4 Bg4 7. dxe5 Qxd1 8. Rxd1 fxe5 9. Rd3 Bd6 10. Nbd2 Nf6 11. b3 O-O-O 12. Bb2 Rhe8", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. O-O f6 6. d4 exd4 7. Nxd4 c5 8. Nb3 Qxd1 9. Rxd1 Bg4 10. f3 Be6 11. Nc3 Bd6 12. Be3 b6", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. O-O Qd6 6. d3 Ne7 7. Nbd2 Ng6 8. Nc4 Qf6 9. Bg5 Qe6 10. Bd2 Bc5 11. b4 Ba7 12. Be3 O-O", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. O-O Bg4 6. h3 h5 7. d3 Qf6 8. Be3 Bxf3 9. Qxf3 Qxf3 10. gxf3 Bd6 11. Nd2 Ne7 12. Rfb1 f5", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. O-O Bd6 6. d4 exd4 7. Qxd4 f6 8. b3 Qe7 9. Nbd2 Nh6 10. Nc4 Bc5 11. Qd3 Nf7 12. Be3 O-O", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. d4 exd4 6. Qxd4 Qxd4 7. Nxd4 Bd7 8. Be3 O-O-O 9. Nd2 Ne7 10. O-O-O Re8 11. Rhe1 Ng6 12. Ne2 Bd6"], "Modern Steinitz Defence": ["1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 g6 7. O-O Bg7 8. Be3 Nf6 9. Nbd2 O-O 10. h3 Qe8 11. Bxc6 Bxc6 12. dxe5 Nxe4 13. Nxe4 Bxe4", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 g6 7. O-O Bg7 8. d5 Nce7 9. Bxd7+ Qxd7 10. c4 h6 11. Nc3 f5 12. Ne1 Nf6 13. f3 O-O", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 Nge7 7. O-O Ng6 8. d5 Nb8 9. c4 Be7 10. Nc3 h6 11. b4 a5 12. a3 O-O 13. Be3 Bxa4", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 Nf6 7. O-O Qe7 8. Re1 g6 9. Nbd2 Bg7 10. Nf1 O-O 11. Bg5 h6 12. Bh4 Qe8 13. Bc2 Nh5", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. O-O Bg4 6. h3 h5 7. d4 b5 8. Bb3 Nxd4 9. hxg4 Nxb3 10. axb3 hxg4 11. Ng5 Qd7 12. c4 Rb8", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. O-O Bd7 6. d4 b5 7. Bb3 Nxd4 8. Nxd4 exd4 9. c3 dxc3 10. Qh5 Qe7 11. Nxc3 Nf6 12. Qd1 c6", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. Bxc6+ bxc6 6. d4 f6 7. Be3 Ne7 8. Nc3 Ng6 9. Qe2 Be7 10. O-O-O Be6 11. h4 h5 12. dxe5 fxe5", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. Bxc6+ bxc6 6. d4 exd4 7. Qxd4 c5 8. Qd3 g6 9. Nc3 Bg7 10. Bf4 Ne7 11. Qd2 O-O 12. Bh6 Bg4", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c4 Bd7 6. Nc3 g6 7. d4 exd4 8. Nxd4 Bg7 9. Be3 Nge7 10. O-O O-O 11. h3 Nxd4 12. Bxd7 Ne2+", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. d4 b5 6. Bb3 Nxd4 7. Nxd4 exd4 8. Bd5 Rb8 9. Bc6+ Bd7 10. Bxd7+ Qxd7 11. Qxd4 Nf6 12. Nc3 Be7"], "Modern Steinitz Defence, Siesta Variation": ["1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 f5 6. exf5 Bxf5 7. O-O Bd3 8. Re1 Be7 9. Bc2 Bxc2 10. Qxc2 Nf6 11. d4 O-O 12. d5 e4 13. Ng5 Ne5", "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 f5 6. exf5 Bxf5 7. d4 e4 8. Ng5 d5 9. f3 h6 10. fxe4 hxg5 11. exf5 Bd6 12. Qf3 g4 13. Qxg4 Nf6 14. Qf3"]}, "Queen's Gambit Declined": {"Orthodox Variation": ["1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. Ne4 Qb4+ 12. Qd2 Qxd2+ 13. Kxd2 Rd8 14. Rhd1 N5f6 15. Nxf6+ Nxf6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. dxe5 Nxe5 14. Nxe5 Qxe5 15. f4 Qe4 16. Qe2 Bf5 17. Bd3 Qe6 18. e4 Rfe8 19. Re1 Qd6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. dxe5 Nxe5 14. Nxe5 Qxe5 15. f4 Qe4 16. Qe1 Bf5 17. Bd3 Qd5 18. e4 Qd4+ 19. Qf2 Qxf2+", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. dxe5 Nxe5 14. Nxe5 Qxe5 15. f4 Qf6 16. f5 b5 17. Bb3 b4 18. Rc5 Ba6 19. Rf4 Rad8", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. Bb3 exd4 14. exd4 Nf6 15. Re1 Qd6 16. Rce3 Bg4 17. h3 Bxf3 18. Rxf3", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. Qc2 exd4 14. exd4 Nb6 15. Re1 Qd8 16. Bb3 Nd5 17. Bxd5 Qxd5 18. Re5 Qd6 19. Qe4 f6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. Qb1 exd4 14. exd4 Nb6 15. Bb3 Qf6 16. Re1 Be6 17. Bxe6 fxe6 18. Rce3 Rae8", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. Ne4 e5 12. O-O exd4 13. Qxd4 N7b6 14. Bb3 Bg4 15. Ng3 Bxf3"], "Exchange Variation": ["1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. cxd5 exd5 5. Bg5 c6 6. Nf3 Be7 7. e3 Nbd7 8. Bd3 Nh5 9. Bxe7 Qxe7 10. O-O Nhf6 11. Qc2 O-O 12. Rfe1 g6 13. a3 Nb6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. cxd5 exd5 5. Bg5 c6 6. Qc2 Na6 7. e3 Nb4 8. Qd2 Bf5 9. Rc1 a5 10. a3 Na6 11. Nge2 h6 12. Bf4 Bd6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. cxd5 exd5 5. Bg5 c6 6. e3 Bf5 7. Qf3 Bg6 8. Bxf6 Qxf6 9. Qxf6 gxf6 10. Kd2 Nd7 11. Bd3 a5 12. Nf3 Nb6"], "Semi-Tarrasch Variation": ["1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Bf6 11. Be4 Nce7 12. Qd3 h6 13. Ne5 Nxc3 14. Qxc3 Nf5 15. Be3 a5 16. Rac1 a4", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Bf6 11. Be4 Nce7 12. Qd3 h6 13. Bd2 Bd7 14. Bxd5 exd5 15. Bf4 Be6 16. Be5 Nf5", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Bf6 11. Be4 Nce7 12. Qb3 b6 13. Bxd5 Nxd5 14. Nxd5 Qxd5 15. Qxd5 exd5 16. Bg5 Bxg5", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Bf6 11. a3 Qb6 12. Be4 Nce7 13. Ne5 g6 14. Bh6 Bg7 15. Bxg7 Kxg7 16. Qd2 Nf6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Nf6 11. a3 b6 12. Bg5 Bb7 13. Bc2 Nd5 14. Qd3 g6 15. h4 Bxg5 16. Nxg5 Nce7", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Nf6 11. Bg5 h6 12. Be3 Nb4 13. Bb1 b6 14. Qd2 Re8 15. a3 Nc6 16. Qd3 Bb7", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bc4 cxd4 8. exd4 Be7 9. O-O O-O 10. Re1 Bf6 11. Ne4 b6 12. a3 Bb7 13. Qd3 Nce7", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bc4 Nxc3 8. bxc3 Be7 9. O-O O-O 10. Bd3 cxd4 11. exd4 b6 12. Qc2 g6 13. Bh6 Re8", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e4 Nxc3 7. bxc3 cxd4 8. cxd4 Nc6 9. Bc4 b5 10. Be2 Bb4+ 11. Bd2 Qa5 12. d5 exd5 13. exd5 Ne7", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e4 Nxc3 7. bxc3 cxd4 8. cxd4 Nc6 9. Bc4 b5 10. Bd3 Bb4+ 11. Bd2 Qa5 12. a3 Bxd2+ 13. Qxd2 Qxd2+", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e4 Nxc3 7. bxc3 cxd4 8. cxd4 Nc6 9. a3 Be7 10. Bd3 O-O 11. e5 b5 12. Be4 Bb7 13. Qd3 h6", "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. g3 Nc6 7. Bg2 Be7 8. O-O O-O 9. Nxd5 exd5 10. dxc5 Bxc5 11. Bg5 Qb6 12. Ne1 h6"]}, "French Defence": {"Advance Variation": ["1. e4 e6 2. d4 d5 3. e5 c5 4. c3 Nc6 5. Nf3 Qb6 6. Be2 cxd4 7. cxd4 Nh6 8. Nc3 Nf5 9. Na4 Bb4+ 10. Bd2 Qa5 11. Bc3 b5 12. a3 Bxc3+", "1. e4 e6 2. d4 d5 3. e5 c5 4. c3 Nc6 5. Nf3 Qb6 6. a3 c4 7. Nbd2 Na5 8. Be2 Bd7 9. O-O O-O-O 10. Rb1 Nb3 11. Nxb3 Ba4 12. Be3 Bxb3", "1. e4 e6 2. d4 d5 3. e5 c5 4. c3 Nc6 5. Nf3 Qb6 6. a3 Bd7 7. b4 cxd4 8. cxd4 Rc8 9. Bb2 Na5 10. Nbd2 Nc4 11. Nxc4 dxc4 12. Rc1 a5", "1. e4 e6 2. d4 d5 3. e5 c5 4. c3 Nc6 5. Nf3 Bd7 6. Be2 Nge7 7. O-O cxd4 8. cxd4 Nf5 9. Nc3 Rc8 10. a3 a6 11. Be3 Be7 12. Bd3 Nxe3", "1. e4 e6 2. d4 d5 3. e5 c5 4. c3 Nc6 5. Nf3 Nge7 6. Na3 cxd4 7. cxd4 Nf5 8. Nc2 Qb6 9. Bd3 Bb4+ 10. Kf1 Be7 11. h4 Bd7 12. g4 Nh6", "1. e4 e6 2. d4 d5 3. e5 c5 4. Nf3 cxd4 5. Bd3 Nc6 6. O-O Nge7 7. Bf4 Ng6 8. Bg3 Be7 9. Nbd2 f5 10. exf6 gxf6 11. Nh4 f5 12. Nxg6 hxg6"], "Knight Variation (2. Nf3)": ["1. e4 e6 2. Nf3 d5 3. Nc3 d4 4. Ne2 c5 5. c3 Nf6 6. d3 Nc6 7. g3 e5 8. Bg2 Be7 9. O-O O-O 10. Ne1"], "Exchange Variation": ["1. e4 e6 2. d4 d5 3. exd5 exd5 4. Bd3 Bd6 5. c3 Nc6 6. Nf3 Nge7 7. O-O Bg4 8. Re1 Qd7 9. Nbd2 O-O 10. h3 Bf5"], "Classical Variation": ["1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. Bxe7 Qxe7 7. f4 O-O 8. Nf3 c5 9. Qd2 Nc6 10. O-O-O Nb6 11. Qe3 cxd4 12. Nxd4 Nxd4 13. Rxd4 Bd7 14. h4", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. Bxe7 Qxe7 7. f4 O-O 8. Nf3 c5 9. Qd2 Nc6 10. O-O-O Nb6 11. dxc5 Qxc5 12. Bd3 Bd7 13. Kb1 Rac8 14. Bxh7+ Kxh7", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. Bxe7 Qxe7 7. f4 O-O 8. Nf3 c5 9. dxc5 Nc6 10. Bd3 f6 11. exf6 Qxf6 12. g3 Nxc5 13. O-O Bd7 14. Qd2 Nxd3", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. Bxe7 Qxe7 7. Bd3 O-O 8. Nce2 c5 9. c3 f6 10. f4 fxe5 11. fxe5 cxd4 12. Nxd4 Nxe5 13. Bxh7+ Kxh7 14. Qh5+ Kg8", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. h4 Bxg5 7. hxg5 Qxg5 8. Qd3 g6 9. Nf3 Qe7 10. O-O-O Nc6 11. Qe3 Nb6 12. g4 Bd7 13. Rh6 O-O-O 14. g5 Na5", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. h4 c5 7. Bxe7 Kxe7 8. f4 Qb6 9. Na4 Qc6 10. Nxc5 Nxc5 11. dxc5 Qxc5 12. Qd2 Nc6 13. O-O-O Bd7 14. Kb1"], "MacCutcheon Variation": ["1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Bb4 5. e5 h6 6. Bd2 Bxc3 7. bxc3 Ne4 8. Qg4 g6 9. Bd3 Nxd2 10. Kxd2 c5 11. Nf3 Nc6 12. Qf4 Qa5 13. dxc5 Qxc5", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Bb4 5. e5 h6 6. Bd2 Bxc3 7. bxc3 Ne4 8. Qg4 Kf8 9. Bd3 Nxd2 10. Kxd2 c5 11. Nf3 Nc6 12. dxc5 Qa5 13. Qf4 Qxc5", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Bb4 5. e5 h6 6. Bd2 Bxc3 7. Bxc3 Ne4 8. Bb4 c5 9. Bxc5 Nxc5 10. dxc5 Nd7 11. Qd4 Qc7 12. Nf3 Nxc5 13. Bd3 Bd7"], "Burn's Variation": ["1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 dxe4 5. Nxe4 Be7 6. Bxf6 Bxf6 7. Nf3 O-O 8. Qd2 b6 9. Nxf6+ Qxf6 10. Bd3 Bb7 11. Ng5 h6 12. Nh7 Qxd4 13. Nxf8 Kxf8", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 dxe4 5. Nxe4 Be7 6. Bxf6 gxf6 7. Nf3 b6 8. Bc4 Bb7 9. Qe2 c6 10. O-O-O Qc7 11. Rhe1 Nd7 12. Kb1 O-O-O 13. Ba6 Bxa6", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 dxe4 5. Nxe4 Nbd7 6. Nf3 Be7 7. Nxf6+ Bxf6 8. h4 h6 9. Bxf6 Qxf6 10. Bc4 O-O 11. Qe2 c5 12. O-O-O cxd4 13. Rxd4 e5"], "Rubinstein Variation": ["1. e4 e6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Nxf6+ Nxf6 7. Bg5 h6 8. Bxf6 Qxf6 9. Bb5+ c6 10. Bd3 Bd7 11. c3 Bd6 12. Qe2 c5", "1. e4 e6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Nxf6+ Nxf6 7. Bg5 c5 8. Bb5+ Bd7 9. Bxd7+ Qxd7 10. Qe2 Be7 11. O-O-O O-O 12. dxc5 Qc6", "1. e4 e6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Nxf6+ Nxf6 7. Bd3 c5 8. dxc5 Bxc5 9. Qe2 Qc7 10. Bd2 O-O 11. O-O-O b6 12. Ne5 Bb7", "1. e4 e6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Ngf6 6. Nxf6+ Nxf6 7. Bd3 Be7 8. Qe2 O-O 9. Bg5 c5 10. dxc5 Qa5+ 11. c3 Qxc5 12. O-O-O g6", "1. e4 e6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7 5. Nf3 Be7 6. Bd3 Ngf6 7. Qe2 O-O 8. O-O b6 9. Nxf6+ Nxf6 10. c4 Bb7 11. Rd1 Qe8 12. Bd2 Rd8", "1. e4 e6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bd7 5. Nf3 Bc6 6. Bd3 Nd7 7. O-O Ngf6 8. Ng3 Be7 9. b3 O-O 10. Bb2 Bxf3 11. Qxf3 c6 12. c4 Re8"], "Steinitz Variation": ["1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. e5 Nfd7 5. f4 c5 6. Nf3 Nc6 7. Be3 Qb6 8. Na4 Qa5+ 9. c3 cxd4 10. b4 Nxb4 11. cxb4 Bxb4+ 12. Bd2 Bxd2+ 13. Nxd2 b6", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. e5 Nfd7 5. f4 c5 6. Nf3 Nc6 7. Be3 Qb6 8. Na4 Qa5+ 9. c3 c4 10. b4 Qc7 11. Be2 Be7 12. O-O O-O 13. g4 b5", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. e5 Nfd7 5. f4 c5 6. Nf3 Nc6 7. Be3 cxd4 8. Nxd4 Qb6 9. Qd2 Qxb2 10. Rb1 Qa3 11. Bb5 Nxd4 12. Bxd4 Bb4 13. O-O a6", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. e5 Nfd7 5. f4 c5 6. Nf3 Nc6 7. Be3 cxd4 8. Nxd4 Bc5 9. Qd2 O-O 10. O-O-O a6 11. h4 Nxd4 12. Bxd4 b5 13. Kb1 Qc7", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. e5 Nfd7 5. f4 c5 6. Nf3 Nc6 7. Be3 a6 8. Qd2 b5 9. dxc5 Bxc5 10. Bxc5 Nxc5 11. Qf2 Qb6 12. Bd3 Rb8 13. O-O Na4", "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. e5 Nfd7 5. Nf3 c5 6. dxc5 Nc6 7. Bf4 Bxc5 8. Bd3 f6 9. exf6 Nxf6 10. O-O O-O 11. Ne5 Bd7 12. Nxc6 Bxc6 13. Qe2 Qe7"], "Winawer, Poisoned Pawn Variation": ["1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 Qc7 8. Qxg7 Rg8 9. Qxh7 cxd4 10. Ne2 Nbc6 11. f4 dxc3 12. Qd3 Bd7 13. Nxc3 a6 14. Rb1 Na5 15. h4 Nf5", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 Qc7 8. Qxg7 Rg8 9. Qxh7 cxd4 10. Ne2 Nbc6 11. f4 dxc3 12. Qd3 Bd7 13. Qxc3 Nf5 14. Rb1 d4 15. Qd3 O-O-O", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 Qc7 8. Qxg7 Rg8 9. Qxh7 cxd4 10. Ne2 Nbc6 11. f4 dxc3 12. Qd3 Bd7 13. Rb1 d4 14. Nxd4 Nxd4 15. Qxd4 Nf5", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 Qc7 8. Qxg7 Rg8 9. Qxh7 cxd4 10. Kd1 Nbc6 11. Nf3 dxc3 12. Bf4 Bd7 13. Ng5 Rf8 14. Bd3 Qb6 15. Be3 d4", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 O-O 8. Bd3 Nbc6 9. Qh5 Ng6 10. Nf3 Qc7 11. Be3 c4 12. Bxg6 fxg6 13. Qg4 Qf7 14. Ng5 Qe8 15. h4 h6", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 O-O 8. Nf3 Nbc6 9. Bd3 f5 10. exf6 Rxf6 11. Bg5 e5 12. Bxh7+ Kxh7 13. Qh5+ Kg8 14. Bxf6 gxf6 15. dxe5 Qf8", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Qg4 O-O 8. Nf3 Nbc6 9. Bd3 f5 10. exf6 Rxf6 11. Bg5 e5 12. Qg3 Rxf3 13. gxf3 c4 14. Be2 exd4 15. Bf6 Qf8"], "Winawer Variation, Main Line": ["1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Nf3 Nbc6 8. Be2 Qa5 9. Bd2 Bd7 10. O-O c4 11. Ng5 h6 12. Nh3 Ng6 13. Bh5 O-O-O 14. f4 Rdf8 15. Qe2 Nge7", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Nf3 Bd7 8. dxc5 Qc7 9. Bd3 Ba4 10. Rb1 Nd7 11. Rb4 Bc6 12. O-O Nxc5 13. Rg4 Ng6 14. Nd4 O-O-O 15. f4 Bd7", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Nf3 b6 8. Bb5+ Bd7 9. Bd3 Ba4 10. O-O c4 11. Be2 a6 12. Nh4 Nbc6 13. f4 Qd7 14. g4 g6 15. f5 gxf5", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. Nf3 Qc7 8. a4 b6 9. Bb5+ Bd7 10. O-O Bxb5 11. axb5 Nd7 12. Qd3 h6 13. Ra4 O-O 14. Bd2 Rfc8 15. Rc1 Nf8", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. a4 Qa5 8. Bd2 Nbc6 9. Nf3 Bd7 10. Bb5 Qc7 11. O-O O-O 12. Re1 b6 13. Bd3 h6 14. Qc1 c4 15. Bf1 Kh7", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7 7. a4 Qa5 8. Qd2 Nbc6 9. Nf3 Bd7 10. Be2 f6 11. exf6 gxf6 12. dxc5 O-O-O 13. O-O e5 14. c4 d4 15. Qh6 Ng6", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Qc7 7. Qg4 f5 8. Qg3 Ne7 9. Qxg7 Rg8 10. Qxh7 cxd4 11. Kd1 Bd7 12. Qh5+ Kd8 13. Nf3 Qxc3 14. Ra2 Nbc6", "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Qc7 7. Qg4 f5 8. Qg3 Ne7 9. Qxg7 Rg8 10. Qxh7 cxd4 11. Kd1 Bd7 12. Qh5+ Kd8 13. cxd4 Ba4 14. Ra2 Nbc6"]}, "Tarrasch Defence": {"Tarrasch Defence": ["1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. Bg5 cxd4 10. Nxd4 h6 11. Be3 Re8 12. Rc1 Bf8 13. Na4 Bd7 14. Nc5 Bxc5 15. Rxc5 Qe7", "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. Bg5 cxd4 10. Nxd4 h6 11. Be3 Re8 12. Rc1 Bg4 13. h3 Be6 14. Kh2 Qd7 15. Qa4 a6", "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. Bg5 cxd4 10. Nxd4 h6 11. Be3 Re8 12. Qb3 Na5 13. Qc2 Bg4 14. Nf5 Bb4 15. Bd4 Bxc3", "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. Bg5 cxd4 10. Nxd4 h6 11. Be3 Re8 12. Qa4 Bd7 13. Rad1 Nb4 14. Qb3 a5 15. a4 Rc8", "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. Bg5 c4 10. Ne5 Be6 11. Nxc6 bxc6 12. b3 Qa5 13. Na4 Rad8 14. e3 c5 15. Bxf6 gxf6", "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. Bg5 Be6 10. dxc5 Bxc5 11. Rc1 Bb6 12. b3 d4 13. Ne4 Qe7 14. Nh4 Kh8 15. Bxf6 gxf6"]}, "King's Indian Defence": {"Classical Variation, Main Line": ["1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. Ne1 Nd7 10. Be3 f5 11. f3 f4 12. Bf2 g5 13. a4 Ng6 14. a5 Kh8 15. Nd3 Nf6 16. c5 h5 17. cxd6 cxd6 18. Nb5", "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. Ne1 Nd7 10. Be3 f5 11. f3 f4 12. Bf2 g5 13. a4 a5 14. Nd3 b6 15. Be1 Nf6 16. Nf2 h5 17. h3 Kh8 18. Nb5 Neg8", "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. Ne1 Nd7 10. Be3 f5 11. f3 f4 12. Bf2 g5 13. Rc1 Ng6 14. c5 Nxc5 15. b4 Na6 16. Nd3 h5 17. Nb5 Bd7 18. a4 Bh6"], "Classical Variation, Bayonet Attack": ["1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. b4 Nh5 10. Re1 Nf4 11. Bf1 a5 12. bxa5 Rxa5 13. Nd2 c5 14. a4 Ra6 15. Ra3 h6 16. Nb5 Kh8 17. g3 Nh5", "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. b4 Nh5 10. Re1 f5 11. Ng5 Nf6 12. Bf3 c6 13. Be3 h6 14. Ne6 Bxe6 15. dxe6 fxe4 16. Nxe4 Nxe4 17. Bxe4 d5"], "Fianchetto System: Classical Variation": ["1. d4 Nf6 2. c4 g6 3. g3 Bg7 4. Bg2 O-O 5. Nf3 d6 6. Nc3 Nbd7 7. O-O e5 8. e4 c6 9. h3 exd4 10. Nxd4 Re8 11. Rb1 a5 12. Re1 Nc5 13. b3 Nh5 14. Be3 Qe7 15. Qd2 Qf8 16. Rbd1 Nf6", "1. d4 Nf6 2. c4 g6 3. g3 Bg7 4. Bg2 O-O 5. Nc3 d6 6. Nf3 Nbd7 7. O-O e5 8. e4 c6 9. h3 Qb6 10. c5 dxc5 11. dxe5 Ne8 12. Be3 Nc7 13. Qc2 Ne6 14. Na4 Qb5 15. Rfd1 c4 16. Nd2 Qa6", "1. d4 Nf6 2. c4 g6 3. g3 Bg7 4. Bg2 O-O 5. Nc3 d6 6. Nf3 Nbd7 7. O-O e5 8. e4 c6 9. h3 Qa5 10. Re1 exd4 11. Nxd4 Ne5 12. Bf1 Re8 13. Nb3 Qc7 14. f4 Ned7 15. Bg2 a5 16. Be3 a4"]}, "Catalan Opening": {"Open Variation": ["1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. a4 Bd7 9. Qxc4 Bc6 10. Bg5 a5 11. Nc3 Na6 12. Rac1 Nb4 13. Rfd1 Rc8 14. Bxf6 Bxf6 15. e4 b6", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. a4 Bd7 9. Qxc4 Bc6 10. Bg5 a5 11. Nc3 Na6 12. Bxf6 Bxf6 13. e4 Nb4 14. Rfd1 b6 15. Ne1 Bd7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. a4 Bd7 9. Qxc4 Bc6 10. Bg5 Bd5 11. Qd3 Be4 12. Qe3 Bc6 13. Nc3 Nbd7 14. Qd3 Bb4 15. Rfe1 Bxf3", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. a4 Bd7 9. Qxc4 Bc6 10. Bg5 Bd5 11. Qd3 c5 12. Nc3 Bc6 13. e4 cxd4 14. Qxd4 h6 15. Bf4 Nbd7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. a4 Bd7 9. Rd1 Bc6 10. Nc3 Bxf3 11. Bxf3 Nc6 12. Bxc6 bxc6 13. Bg5 Rb8 14. e3 a5 15. Rac1 Nd7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. a4 Nc6 9. Qxc4 Qd5 10. Qd3 Rd8 11. Nc3 Qh5 12. Qc4 Bd7 13. Bf4 Rac8 14. e4 Nb4 15. h3 c5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. Qxc4 b5 9. Qc2 Bb7 10. Bf4 Nd5 11. Nc3 Nxf4 12. gxf4 Nc6 13. Rfd1 Nb4 14. Qc1 Qb8 15. a3 Nd5 16. Ne5 Nxc3", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. Qxc4 b5 9. Qc2 Bb7 10. Bf4 Nc6 11. Rd1 Nb4 12. Qc1 Rc8 13. Nc3 Nbd5 14. Nxd5 Bxd5 15. Be3 Ng4 16. Ne1 Bxg2", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. Qxc4 b5 9. Qc2 Bb7 10. Bf4 Bd6 11. Nbd2 Nbd7 12. Bg5 Rc8 13. Nb3 h6 14. Bxf6 Nxf6 15. Rac1 Bd5 16. Rfd1 Qe7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. Qxc4 b5 9. Qc2 Bb7 10. Bg5 Nbd7 11. Bxf6 Nxf6 12. Nbd2 Rc8 13. Nb3 Be4 14. Qc3 Nd5 15. Qd2 c5 16. Nxc5 Bxc5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. Qxc4 b5 9. Qc2 Bb7 10. Bg5 Nbd7 11. Bxf6 Nxf6 12. Nbd2 Rc8 13. Nb3 c5 14. dxc5 Be4 15. Qc3 Bd5 16. Rac1 Nd7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7 6. O-O O-O 7. Qc2 a6 8. Qxc4 b5 9. Qc2 Bb7 10. Bd2 Be4 11. Qc1 Nbd7 12. Ba5 Rc8 13. Nbd2 Ba8 14. Qc2 Qe8 15. b4 Nd5 16. a3 f5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 c5 6. O-O Nc6 7. Ne5 Bd7 8. Na3 cxd4 9. Naxc4 Bc5 10. Qb3 O-O 11. Bf4 Qc8 12. Rac1 Nd5 13. Nd3 Nxf4 14. gxf4 Be7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 c5 6. O-O Nc6 7. Ne5 Bd7 8. Na3 cxd4 9. Naxc4 Nxe5 10. Nxe5 Qb6 11. Nxd7 Nxd7 12. Qa4 Qb4 13. Qxb4 Bxb4 14. Bxb7 Rb8", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 c5 6. O-O Nc6 7. Ne5 Bd7 8. Na3 cxd4 9. Naxc4 Be7 10. Qb3 Qc8 11. Bf4 O-O 12. Rac1 Nd5 13. Rfd1 Nxf4 14. gxf4 Rb8", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 c5 6. O-O Nc6 7. Qa4 Bd7 8. Qxc4 b5 9. Qd3 Rc8 10. dxc5 Bxc5 11. Nc3 b4 12. Ne4 Nxe4 13. Qxe4 Ne7 14. Ne5 Bb5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 c5 6. O-O Nc6 7. Qa4 Bd7 8. Qxc4 cxd4 9. Nxd4 Rc8 10. Nc3 Nxd4 11. Qxd4 Bc5 12. Qh4 b5 13. Bg5 Be7 14. Rfd1 Rc4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 c5 6. O-O Nc6 7. Qa4 Bd7 8. Qxc4 cxd4 9. Nxd4 Rc8 10. Nc3 Nxd4 11. Qxd4 Bc5 12. Qh4 b5 13. Bg5 Be7 14. Rad1 Rc4 15. Rd4 Rxd4 16. Qxd4 Qb6 17. Qh4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 a6 6. O-O b5 7. Ne5 Nd5 8. a4 Bb7 9. b3 c3 10. axb5 axb5 11. Rxa8 Bxa8 12. e4 Nc6 13. Nxc3 b4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 a6 6. O-O b5 7. Ne5 Nd5 8. a4 Bb7 9. b3 cxb3 10. Qxb3 Nc6 11. Rd1 Bd6 12. Nxc6 Bxc6 13. e4 bxa4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 a6 6. O-O b5 7. Ne5 Nd5 8. a4 Bb7 9. axb5 axb5 10. Rxa8 Bxa8 11. e4 Nf6 12. Nc3 c6 13. d5 Be7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 a6 6. O-O Nc6 7. e3 Nd7 8. Nc3 Bd6 9. Qe2 b5 10. Rd1 O-O 11. e4 e5 12. dxe5 Ncxe5 13. Nxe5 Bxe5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 a6 6. Ne5 c5 7. Na3 cxd4 8. Naxc4 Be7 9. Bd2 a5 10. Qb3 Nbd7 11. Bxb7 a4 12. Qf3 Bxb7 13. Qxb7 Nxe5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Nc6 6. Qa4 Bb4+ 7. Bd2 Bd6 8. O-O O-O 9. Qxc4 e5 10. dxe5 Nxe5 11. Nxe5 Bxe5 12. Bc3 Qe7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Nc6 6. Qa4 Nd7 7. Qxc4 Nb6 8. Qd3 e5 9. Bg5 f6 10. Be3 exd4 11. Nxd4 Bb4+ 12. Nc3 Nxd4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Bd7 6. Ne5 Bc6 7. Nxc6 Nxc6 8. O-O Qd7 9. e3 Rb8 10. Qe2 b5 11. b3 cxb3 12. axb3 Rb6", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Nbd7 6. O-O Be7 7. Nfd2 Nb6 8. Nxc4 Nxc4 9. Qa4+ Nd7 10. Qxc4 Nb6 11. Qd3 O-O 12. Nc3 Nd5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 b5 6. a4 c6 7. axb5 cxb5 8. Ne5 Nd5 9. Nc3 Bb4 10. O-O Bxc3 11. e4 Bxb2 12. exd5 Bxa1", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Bb4+ 6. Bd2 Be7 7. O-O Bd7 8. Ne5 Nc6 9. Nxd7 Qxd7 10. e3 Rb8 11. Qc1 e5 12. dxe5 Nxe5"], "Early Alternatives": ["1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Qa4+ Nbd7 6. Nf3 a6 7. Nc3 Be7 8. Ne5 O-O 9. Nxd7 Bxd7 10. Qxc4 b5 11. Qb3 b4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Qa4+ Nbd7 6. Nf3 a6 7. Qxc4 b5 8. Qc6 Rb8 9. Bf4 Bb4+ 10. Nbd2 Bb7 11. Qc2 Nd5", "1. d4 Nf6 2. c4 e6 3. g3 c5 4. Nf3 cxd4 5. Nxd4 d5 6. Bg2 e5 7. Nf3 d4 8. O-O Nc6 9. e3 Bc5 10. exd4 exd4 11. Re1+ Be6", "1. d4 Nf6 2. c4 e6 3. g3 c5 4. Nf3 cxd4 5. Nxd4 d5 6. Bg2 e5 7. Nf3 d4 8. O-O Nc6 9. e3 Bc5 10. exd4 Bxd4 11. Nxd4 Nxd4", "1. d4 Nf6 2. c4 e6 3. g3 c5 4. Nf3 cxd4 5. Nxd4 d5 6. Bg2 e5 7. Nf3 d4 8. O-O Nc6 9. e3 Be7 10. exd4 exd4 11. Bf4 O-O", "1. d4 Nf6 2. c4 e6 3. g3 c5 4. Nf3 cxd4 5. Nxd4 d5 6. Bg2 e5 7. Nf3 d4 8. O-O Nc6 9. e3 d3 10. Nc3 Bb4 11. Bd2 Be6"], "Closed Variation": ["1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. Nbd2 b6 9. e4 Bb7 10. e5 Ne8 11. b3 Rc8 12. Bb2 c5 13. dxc5 Nxc5 14. Rfd1 Qc7 15. Rac1 Qb8", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. Nbd2 b6 9. e4 Ba6 10. e5 Ne8 11. Re1 Rc8 12. Bf1 Nc7 13. b3 dxc4 14. Nxc4 Nd5 15. Qe4 b5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. Nbd2 b6 9. b3 Ba6 10. Rd1 Rc8 11. e4 c5 12. exd5 exd5 13. Bb2 b5 14. cxd5 c4 15. bxc4 bxc4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. Nbd2 b6 9. b3 a5 10. Bb2 Ba6 11. e4 Rc8 12. Rfe1 c5 13. exd5 exd5 14. Rad1 cxd4 15. Nxd4 Bb4", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. b3 b6 9. Rd1 Bb7 10. Nc3 Rc8 11. e4 dxe4 12. Nxe4 Nxe4 13. Qxe4 b5 14. Bf4 bxc4 15. bxc4 Qa5", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. b3 b6 9. Rd1 Ba6 10. Bb2 Rc8 11. Nc3 b5 12. c5 b4 13. Na4 Bb5 14. Ne1 Rb8 15. Nd3 Ne8", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. b3 c6 8. Bb2 b6 9. Nc3 a5 10. Nd2 Ba6 11. e4 dxc4 12. e5 Nd5 13. bxc4 Nxc3 14. Bxc3 Rc8", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. Rd1 b6 9. Bf4 Bb7 10. Nc3 Rc8 11. Ne5 Nh5 12. Be3 Nhf6 13. h3 b5 14. Nxd7 Nxd7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O c6 7. Nc3 dxc4 8. a4 Nbd7 9. e4 e5 10. dxe5 Ng4 11. Bf4 Qa5 12. e6 fxe6 13. Qe2 Nde5 14. Nd4 Nd3", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O c6 7. Nbd2 b6 8. Qc2 Bb7 9. e4 Na6 10. a3 c5 11. e5 Nd7 12. dxc5 bxc5 13. Re1 Qc7 14. h4 Rad8", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O c5 7. cxd5 Nxd5 8. dxc5 Bxc5 9. a3 Nc6 10. b4 Be7 11. Bb2 Bf6 12. Qb3 Bd7 13. Nbd2 Bxb2 14. Qxb2 Qe7", "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Na6 7. Nc3 c5 8. cxd5 exd5 9. dxc5 Nxc5 10. Be3 Nce4 11. Rc1 Be6 12. Nd4 Bd7 13. Nxe4 dxe4"]}, "London System": {"London System": ["1. d4 d5 2. Bf4 Nf6 3. Nf3 c5 4. e3 Nc6 5. c3 e6 6. Nbd2 Bd6 7. Bg3 O-O 8. Bd3 b6 9. Ne5 Bb7 10. f4 Ne7 11. Qf3 Nf5 12. Bf2 Be7 13. O-O Nd6 14. Rad1 c4"]}, "Petrov's Defence": {"Petrov's Defence": ["1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Be7 7. O-O Nc6 8. c4 Nb4 9. Be2 O-O 10. Nc3 Be6 11. Be3 Bf5 12. Qb3 c6", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Be7 7. O-O Nc6 8. Re1 Bg4 9. c3 f5 10. Qb3 O-O 11. Nbd2 Kh8 12. Qxb7 Rf6", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Nc6 7. O-O Bg4 8. c4 Nf6 9. cxd5 Bxf3 10. Qxf3 Qxd5 11. Qe2+ Be7 12. Bb5 Qd6", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Bd6 7. O-O O-O 8. c4 c6 9. cxd5 cxd5 10. Nc3 Nxc3 11. bxc3 Bg4 12. Rb1 b6", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Bd6 7. O-O O-O 8. c4 c6 9. Qc2 Na6 10. a3 f5 11. Nc3 Nc7 12. b4 Nxc3", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 Be7 6. Bd3 Nf6 7. h3 O-O 8. O-O Re8 9. c4 Nc6 10. Nc3 h6 11. Re1 Bf8 12. Rxe8 Qxe8", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. Qe2 Qe7 6. d3 Nf6 7. Bg5 Qxe2+ 8. Bxe2 Be7 9. Nc3 c6 10. O-O-O Na6 11. Rhe1 Nc7", "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. Nc3 Nxc3 6. dxc3 Be7 7. Be3 O-O 8. Qd2 Nc6 9. O-O-O Ne5 10. Kb1 Re8 11. Nd4 a6", "1. e4 e5 2. Nf3 Nf6 3. d4 Nxe4 4. Bd3 d5 5. Nxe5 Nd7 6. Nxd7 Bxd7 7. O-O Qh4 8. c4 O-O-O 9. c5 g5 10. Nc3 Bg7 11. g3 Qh3", "1. e4 e5 2. Nf3 Nf6 3. d4 Nxe4 4. Bd3 d5 5. Nxe5 Bd6 6. O-O O-O 7. c4 Bxe5 8. dxe5 Nc6 9. cxd5 Qxd5 10. Qc2 Nb4 11. Bxe4 Nxc2", "1. e4 e5 2. Nf3 Nf6 3. d4 Nxe4 4. Bd3 Nc6 5. Bxe4 d5 6. Bg5 Qd7 7. Bd3 e4 8. O-O f6 9. Bf4 exd3 10. Qxd3 Bd6 11. Re1+ Kf7", "1. e4 e5 2. Nf3 Nf6 3. d4 exd4 4. e5 Ne4 5. Qxd4 d5 6. exd6 Nxd6 7. Nc3 Nc6 8. Qf4 g6 9. Be3 Bg7 10. O-O-O O-O 11. h4 h6"]}, "Dutch Defence": {"Leningrad Variation": ["1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. c4 d6 7. Nc3 Qe8 8. d5 Na6 9. Rb1 c6 10. b4 Bd7 11. dxc6 bxc6 12. a3 Nc7 13. Bb2 Ne6 14. c5 dxc5", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. c4 d6 7. Nc3 Qe8 8. d5 a5 9. Nd4 Na6 10. Bg5 Nc5 11. Qd2 Qf7 12. Bh6 Bxh6 13. Qxh6 Bd7 14. Qd2 Rac8", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. c4 d6 7. Nc3 Qe8 8. Nd5 Nxd5 9. cxd5 Qb5 10. Ng5 Qb6 11. Be3 a5 12. h4 Na6 13. a3 Bd7 14. Qd3 Rfc8", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. c4 d6 7. Nc3 Qe8 8. Re1 a6 9. b3 Qf7 10. Qd3 Nc6 11. Ba3 a5 12. Nb5 Ne8 13. Bb2 g5 14. Qd2 e5", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. c4 d6 7. Nc3 Nc6 8. d5 Na5 9. Qa4 c5 10. dxc6 bxc6 11. Nd4 Bd7 12. Nxc6 Nxc6 13. Bxc6 Bxc6 14. Qxc6 Rc8", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. c4 d6 7. Nc3 c6 8. d5 e5 9. dxe6 Bxe6 10. b3 Na6 11. Bb2 Qe7 12. Ng5 Nc5 13. Nxe6 Nxe6 14. e3 Rad8", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. b3 d6 7. Bb2 Ng4 8. c4 Nd7 9. Nc3 e5 10. dxe5 dxe5 11. e4 Nh6", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nf3 Bg7 5. O-O O-O 6. b3 Ne4 7. Bb2 d5 8. c4 c6 9. Nbd2 Be6 10. e3 Nd7 11. Rc1 Kh8", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. c3 Bg7 5. Qb3 Nc6 6. Nf3 e6 7. O-O O-O 8. Nbd2 a5 9. a4 d5 10. Qc2 b6 11. b3 Ne4", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. c3 c6 5. Bg5 Bg7 6. Nd2 d5 7. Nh3 O-O 8. O-O Qe8 9. c4 Ne4 10. Nxe4 dxe4 11. f3 e5", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nh3 Bg7 5. c4 d6 6. d5 O-O 7. Nc3 c6 8. Nf4 e5 9. dxe6 Qe7 10. O-O Bxe6 11. Nxe6 Qxe6", "1. d4 f5 2. g3 Nf6 3. Bg2 g6 4. Nh3 Bg7 5. Nf4 Nc6 6. h4 Ng4 7. d5 Nce5 8. Nc3 Nf7 9. e4 e5 10. dxe6 dxe6 11. Qxd8+ Kxd8"], "Stonewall Variation": ["1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 d5 5. Nf3 c6 6. O-O Bd6 7. b3 Qe7 8. Bb2 b6 9. Ne5 Bb7 10. Nd2 O-O 11. Rc1 a5 12. e3 Na6", "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 d5 5. Nf3 c6 6. O-O Bd6 7. Bf4 Bxf4 8. gxf4 O-O 9. Nbd2 Bd7 10. Ne5 Be8 11. Qb3 Qb6 12. Qc3 Nbd7", "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 d5 5. Nf3 c6 6. O-O Be7 7. Nbd2 O-O 8. Qc2 Bd7 9. Ne5 Be8 10. Ndf3 Ne4 11. b3 Kh8 12. Bb2 Bd6", "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 d5 5. Nh3 Be7 6. O-O O-O 7. b3 c6 8. Bb2 Ne4 9. Nd2 Bf6 10. Nxe4 dxe4 11. Qc2 Qe7 12. f3 c5"], "Ilyin-Zhenevsky Variation": ["1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d6 7. Nc3 Qe8 8. Re1 Qg6 9. e4 fxe4 10. Nxe4 Nxe4 11. Rxe4 Nc6 12. Re1 e5", "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d6 7. Nc3 Qe8 8. b3 a5 9. Bb2 Na6 10. a3 Bd7 11. Ne1 c6 12. Nd3 Bd8"]}, "Pirc Defence": {"Austrian Attack": ["1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Bd3 Nc6 7. O-O Bg4 8. e5 dxe5 9. dxe5 Nd5 10. h3 Nxc3 11. bxc3 Bf5 12. Bxf5 Qxd1 13. Rxd1 gxf5", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Bd3 Nc6 7. O-O e5 8. fxe5 dxe5 9. d5 Nd4 10. Nxe5 Nxe4 11. Bxe4 Bxe5 12. Bf4 Bg7 13. Qd2 Nf5", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Bd3 Nc6 7. e5 dxe5 8. dxe5 Nd5 9. Bd2 Bg4 10. Be4 e6 11. h3 Bxf3 12. Qxf3 Nd4 13. Qf2 c5", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Bd3 Na6 7. O-O c5 8. d5 Rb8 9. Qe2 Nc7 10. a4 a6 11. a5 Bd7 12. Na4 Bg4 13. c4 e6", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Bd3 Na6 7. e5 Nd7 8. Be3 Nb6 9. a3 c5 10. Bxa6 cxd4 11. Bxd4 bxa6 12. exd6 Qxd6 13. Bxb6 Qxd1+", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Be3 b6 7. Bc4 Bb7 8. e5 Ng4 9. Qe2 c5 10. O-O-O Nxe3 11. Qxe3 cxd4 12. Nxd4 dxe5 13. Ne6 Qc8", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. e5 dxe5 7. dxe5 Qxd1+ 8. Kxd1 Nh5 9. Bc4 Bg4 10. Rf1 Nc6 11. Ke1 Rad8 12. Be3 Na5", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. e5 Nfd7 7. h4 c5 8. h5 cxd4 9. Qxd4 dxe5 10. Qf2 e4 11. Nxe4 Nf6 12. Nxf6+ exf6", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 O-O 6. Be2 c5 7. dxc5 Qa5 8. O-O Qxc5+ 9. Kh1 Nbd7 10. Bd3 b6 11. Qe1 Bb7 12. Be3 Qh5", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 c5 6. dxc5 Qa5 7. Bd3 Qxc5 8. Qe2 Bg4 9. Be3 Qa5 10. O-O Nc6 11. h3 Bxf3 12. Qxf3 O-O", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 c5 6. Bb5+ Bd7 7. e5 Ng4 8. e6 fxe6 9. Ng5 Bxb5 10. Nxe6 Bxd4 11. Nxb5 Qa5+ 12. Qd2 Bf2+", "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4 Bg7 5. Nf3 c5 6. Bb5+ Bd7 7. e5 Ng4 8. Bxd7+ Qxd7 9. d5 dxe5 10. h3 e4 11. Nxe4 Nf6 12. Nxf6+ Bxf6"]}}

function takeback() { game.undo(); board.position(game.fen()); updatePgn(); }

function pgnToList(pgn) {
    let groups = pgn.split(' ')
    return groups.filter(group => group.charAt(group.length - 1) !== '.')
}

function listToPgn(list) {
    let result = []
    for (let i = 0; i < list.length; i++) {
        if (i % 2 === 0) result.push(`${i / 2 + 1}.`)
        result.push(list[i])
    }
    return result.join(' ')
}

function movesToFen(moves) {
    let tempGame = new Chess()
    for (let i = 0; i < moves.length; i++) {
        tempGame.move(moves[i])
    }

    return tempGame.fen()
}

function updateMovelist() {
    $('#moves').html('')
    $('#moveText').text(listToPgn(game.history()) || 'Starting Position')
    $('#fenText').text(game.fen())

    let history = game.history()

    for (let i = 0; i < history.length; i++) {
        if (i % 2 === 0) {
            let newRow = document.createElement('TR')
            $('#moves').append(newRow)

            let newCell = document.createElement('TD')
            newCell.innerText = `${i / 2 + 1}.`
            newCell.classList.add('move-cell')
            $('#moves').children().last().append(`${i / 2 + 1}. `)
        }

        let currentMoves = history.slice(0, i + 1)
        let currentMove = history[i]

        let moveElement = document.createElement('td')
        moveElement.innerHTML = currentMove
        moveElement.classList.add('move-cell')
        moveElement.setAttribute('data-pgn', listToPgn(currentMoves))

        moveElement.addEventListener('click', function() {
            game = new Chess()

            for (let j = 0; j < currentMoves.length; j++) {
                game.move(currentMoves[j])
            }

            board.position(game.fen())

            updatePgn()
        })

        $('#moves').children().last().append(moveElement)
    }
}

function getSelectedLines() {
    let checkboxes = document.getElementsByClassName('opening-selection')
    let active = []

    for (let i = 0; i < checkboxes.length; i++) {
        let currentBox = checkboxes.item(i)
        if (currentBox.checked) active.push(currentBox)
    }

    let result = []

    for (let i = 0; i < active.length; i++) {
        let currentOpening = active[i].id.replace(/%20/gi, ' ')
        let variations = Object.keys(openings[currentOpening])
        for (let j = 0; j < variations.length; j++) {
            result.push(...openings[currentOpening][variations[j]])
        }
    }

    return result
}

function getNextMoves() {
    let selectedLines = getSelectedLines()
    let history = listToPgn(game.history())
    let activeLines = selectedLines.filter(x => x.indexOf(history) !== -1)

    return [...new Set(activeLines.map(x => {
        let cont = x.replace(history, '').split(' ').filter(y => y.charAt(y.length - 1) !== '.' && y !== '')
        return cont[0]
    }))]
}

function updateEngine() {
    let fen = game.fen()
    stockfish.postMessage(`position fen ${fen}`)
    stockfish.postMessage('go depth 18')
}

function updatePgn() {
    updateMovelist()
    updateEngine()

    let nextMoves = getNextMoves()

    let moveList = nextMoves.join(', ')
    if (moveList === '') {
        moveList = 'No moves in database'
    }

    $('#moveTooltip').attr('data-original-title', moveList)
}

function removeGreySquares () {
    $('#myBoard .square-55d63').css('background', '')
}

function greySquare (square) {
    var $square = $('#myBoard .square-' + square)

    var background = whiteSquareGrey
    if ($square.hasClass('black-3c85d')) {
        background = blackSquareGrey
    }

    $square.css('background', background)
}

function onDragStart (source, piece) {
    // do not pick up pieces if the game is over
    if (game.game_over()) return false

    // or if it's not that side's turn
    if ((game.turn() === 'w' && piece.search(/^b/) !== -1) ||
            (game.turn() === 'b' && piece.search(/^w/) !== -1)) {
        return false
    }
}

function onDrop (source, target) {
    removeGreySquares()

    let correctMoves = getNextMoves()

    // see if the move is legal
    var move = game.move({
        from: source,
        to: target,
        promotion: 'q' // NOTE: always promote to a queen for example simplicity
    })

    // illegal move
    if (move === null) return 'snapback'

    // see if the move is in a line
    if (
        (
            correctMoves.indexOf(move.san) === -1 ||
            !correctMoves.length === 0
        ) &&
        $('#forceOpenings').is(':checked')
    ) {
        takeback()
        return 'snapback'
    }

    updatePgn()
}

function onMouseoverSquare (square, piece) {
    // get list of possible moves for this square
    var moves = game.moves({
        square: square,
        verbose: true
    })

    // exit if there are no moves available for this square
    if (moves.length === 0) return

    // highlight the square they moused over
    greySquare(square)

    // highlight the possible squares for this piece
    for (var i = 0; i < moves.length; i++) {
        greySquare(moves[i].to)
    }
}

function onMouseoutSquare (square, piece) {
    removeGreySquares()
}

function onSnapEnd () {
    board.position(game.fen())
    updatePgn()
}

var config = {
    draggable: true,
    position: 'start',
    onDragStart: onDragStart,
    onDrop: onDrop,
    onMouseoutSquare: onMouseoutSquare,
    onMouseoverSquare: onMouseoverSquare,
    onSnapEnd: onSnapEnd
}

board = Chessboard('myBoard', config)

$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip()

    let openingNames = Object.keys(openings)
    for (let i = 0; i < openingNames.length; i++) {
        let currentOpening = openingNames[i]

        let openingPick = document.createElement('div')
        openingPick.classList.add('form-check-inline')

        let openingLabel = document.createElement('label')
        openingLabel.classList.add('form-check-label')

        let openingBox = document.createElement('input')
        openingBox.setAttribute('type', 'checkbox')
        openingBox.classList.add('form-check-input', 'opening-selection')
        openingBox.id = currentOpening.replace(/ /gi, '%20')
        openingBox.addEventListener('click', function (e) {
            updatePgn()
        })

        let text = document.createTextNode(currentOpening)

        openingLabel.appendChild(openingBox)
        openingLabel.appendChild(text)

        openingPick.appendChild(openingLabel)

        document.querySelector('#openingSelection').appendChild(openingPick)
    }

    getSelectedLines()

    $('#takeback').click(takeback)
    $('#flip').click(board.flip)
    $('#resetPosition').click(function() {
        if (!confirm('Are you sure you want to return to starting position?')) return
        game = new Chess()
        board.position(game.fen())
        updatePgn()
    })

    updatePgn()
})